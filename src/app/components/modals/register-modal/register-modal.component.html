<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
 <h2>Register</h2>
 <mat-dialog-content>

  <mat-form-field>
    <mat-label>Enter your email</mat-label>
    <input matInput placeholder="pat@example.com" formControlName="email" />
  </mat-form-field>

  <p *ngIf="email.errors && email.touched"
  >Please fill email field according to template!</p>

  <mat-form-field>
    <mat-label>Enter your password</mat-label>
    <input matInput
    [type]="showConfirmation ? 'password' : 'text'"
    formControlName="password" />
    <button
        mat-icon-button
        matSuffix
        (click)="showConfirmation = !showConfirmation"
        [attr.aria-label]="'Hide password'"
      >
        <mat-icon>{{ showConfirmation ? "visibility_off" : "visibility" }}</mat-icon>
      </button>
  </mat-form-field>

  <p *ngIf="password.errors && password.touched"
  >Please fill password field width min or max length. Now {{ password.value.length }}</p>

  <mat-form-field *ngIf="confirmPassword">
    <mat-label>Confirm your password</mat-label>
    <input matInput
    formControlName="confirmPassword">
  </mat-form-field>

  <p *ngIf="confirmPassword.value!==password.value && confirmPassword.touched"
  >Your passwords are not identical</p>

 </mat-dialog-content>
 <div mat-dialog-actions>
  <button mat-stroked-button type="submit" color="primary" [disabled]="!registerForm.valid || confirmPassword.value!==password.value ">Register</button>
  <button mat-button (click)="onNoClick()" type="submit" color="primary">Cancel</button>
</div>
</form>
